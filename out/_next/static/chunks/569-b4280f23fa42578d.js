"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{1318:function(n,t,e){e.d(t,{Z:function(){return L}});var i=e(7297),o=e(5893),r=e(7294),l=e(4429),s=e(1141),c=e(7814),u=e(9417),d=e(7877),a=e(9259),p=e(1163),f=e(4480),h=e(1583),x=e(4070);function g(){let n=(0,i.Z)(["\n  position: relative;\n\n  min-width: ",";\n\n  height: 180px;\n  min-height: 80px;\n  max-height: 300px;\n\n  padding-top: ",";\n\n  background-image: url(",");\n  background-color: ",";\n  background-size: cover;\n  background-position: center center;\n  border-radius: 4px;\n\n  cursor: pointer;\n  &:first-child {\n    transform-origin: center left;\n  }\n  &:last-child {\n    transform-origin: center right;\n  }\n"]);return g=function(){return n},n}function v(){let n=(0,i.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  height: 100%;\n  width: 100%;\n"]);return v=function(){return n},n}function m(){let n=(0,i.Z)(["\n  width: 100%;\n\n  display: flex;\n  align-items: baseline;\n\n  position: absolute;\n  bottom: -26px;\n  left: 0;\n\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.9);\n"]);return m=function(){return n},n}function b(){let n=(0,i.Z)(["\n  font-size: 16px;\n  line-height: 16px;\n\n  flex-grow: 1;\n\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return b=function(){return n},n}function w(){let n=(0,i.Z)(["\n  font-size: 70px;\n  line-height: 60px;\n  font-weight: bold;\n  font-style: italic;\n\n  margin-right: 10px;\n"]);return w=function(){return n},n}let Z=(0,l.ZP)(s.E.div).withConfig({componentId:"sc-f9e85c46-0"})(g(),n=>"calc(".concat(100/n.offset,"% - 10px)"),n=>(n.isMobile,"8%"),n=>n.bgphoto,n=>!n.bgphoto&&"#353535"),j=l.ZP.div.withConfig({componentId:"sc-f9e85c46-1"})(v()),k=l.ZP.div.withConfig({componentId:"sc-f9e85c46-2"})(m()),y=l.ZP.h3.withConfig({componentId:"sc-f9e85c46-3"})(b()),C=l.ZP.div.withConfig({componentId:"sc-f9e85c46-4"})(w()),P=n=>{let{rank:t,movie:e,offset:i}=n,r=(0,d.d)(),l=(0,p.useRouter)(),s=(0,f.Zl)(x.F),c=n=>{s(n),l.push(l.asPath,"".concat(l.asPath,"?movies/").concat(n),{shallow:!0})};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(Z,{variants:{normal:{y:0},hover:{y:-16,transition:{delay:.5,duration:.2,type:"tween"}}},initial:"normal",whileHover:"hover",transition:{type:"tween"},isMobile:r,bgphoto:e.backdrop_path?(0,h.g)(e.backdrop_path,"w500"):null,offset:i,onClick:()=>c(e.id),children:(0,o.jsx)(j,{children:(0,o.jsxs)(k,{children:[(0,o.jsx)(C,{children:t}),(0,o.jsx)(y,{title:e.title||e.name,children:e.title||e.name})]})})})})};function I(){let n=(0,i.Z)(["\n  position: relative;\n"]);return I=function(){return n},n}function z(){let n=(0,i.Z)(["\n  font-size: 16px;\n  margin-bottom: 10px;\n"]);return z=function(){return n},n}function M(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 10px;\n\n  padding-bottom: 32px;\n"]);return M=function(){return n},n}function _(){let n=(0,i.Z)(["\n  position: absolute;\n  top: calc(50% - 11px);\n  left: -15px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 30px;\n  height: 30px;\n\n  background-color: #85858597;\n  border-radius: 4px;\n  font-size: 20px;\n\n  z-index: 20;\n  cursor: pointer;\n"]);return _=function(){return n},n}function E(){let n=(0,i.Z)(["\n  position: absolute;\n  top: calc(50% - 11px);\n  right: -15px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 30px;\n  height: 30px;\n\n  background-color: #85858597;\n  border-radius: 4px;\n  font-size: 20px;\n\n  z-index: 20;\n  cursor: pointer;\n"]);return E=function(){return n},n}function F(){let n=(0,i.Z)(["\n  width: 4%;\n  height: calc(100% - 54px);\n\n  position: absolute;\n  top: 32px;\n  left: calc(-4% - 10px);\n\n  background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5));\n  z-index: 10;\n"]);return F=function(){return n},n}function R(){let n=(0,i.Z)(["\n  width: calc(4% + 10px);\n  height: calc(100% - 54px);\n\n  position: absolute;\n  top: 32px;\n  right: calc(-4% - 10px);\n\n  background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5));\n  z-index: 10;\n"]);return R=function(){return n},n}let Q=l.ZP.div.withConfig({componentId:"sc-29a6b2f3-0"})(I()),S=l.ZP.h2.withConfig({componentId:"sc-29a6b2f3-1"})(z()),G=(0,l.ZP)(s.E.div).withConfig({componentId:"sc-29a6b2f3-2"})(M()),N=l.ZP.div.withConfig({componentId:"sc-29a6b2f3-3"})(_()),W=l.ZP.div.withConfig({componentId:"sc-29a6b2f3-4"})(E()),A=l.ZP.div.withConfig({componentId:"sc-29a6b2f3-5"})(F()),H=l.ZP.div.withConfig({componentId:"sc-29a6b2f3-6"})(R()),J=n=>{let{type:t,title:e,list:i,offset:l}=n,s=(0,d.d)(),[p,f]=(0,r.useState)(0),[h,x]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),m=(0,r.useRef)(),b=()=>{x(!0),f(n=>n+1)},w=()=>{p>0&&(v(!0),f(n=>n-1))};return(0,o.jsxs)(Q,{children:[(0,o.jsx)(S,{children:e}),0!==p&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(N,{onClick:w,children:(0,o.jsx)(c.G,{icon:u.EyR})}),(0,o.jsx)(A,{})]}),(0,o.jsx)(G,{ref:m,isMobile:s,variants:{initial:{x:0},nextMove:n=>{var t;return{x:-(null===(t=m.current)||void 0===t?void 0:t.offsetWidth)*p}},prevMove:n=>{var t,e;return{x:-(null===(t=m.current)||void 0===t?void 0:t.offsetWidth)*p-(null===(e=m.current)||void 0===e?void 0:e.offsetWidth)}}},initial:"initial",animate:h?"nextMove":g&&"prevMove",transition:{type:"tween",duration:1},children:i.map((n,e)=>"ranking"===t?(0,o.jsx)(P,{rank:e+1,movie:n,offset:l},n.id):(0,o.jsx)(a.Z,{movie:n,offset:l},n.id))}),i.length/l!==p+1&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(W,{onClick:b,children:(0,o.jsx)(c.G,{icon:u.yOZ})}),(0,o.jsx)(H,{})]})]})};var L=J},9569:function(n,t,e){e.r(t),e.d(t,{default:function(){return A}});var i=e(7297),o=e(5893),r=e(7294),l=e(8767),s=e(4429),c=e(1526),u=e(4480),d=e(7814),a=e(9417),p=e(4995),f=e(1583),h=e(7877),x=e(4070),g=e(2157),v=e(376),m=e(1318);function b(){let n=(0,i.Z)(["\n  margin-bottom: 100px;\n"]);return b=function(){return n},n}function w(){let n=(0,i.Z)(["\n  position: relative;\n\n  height: 35vw;\n  min-height: 60vh;\n\n  /* linear-gradient로 이미지에 배경색 추가 */\n  background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 1)),\n    url(",");\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: top center;\n  text-shadow: 2px 2px 4px rgb(0 0 0 / 45%);\n\n  padding: 0 4%;\n"]);return w=function(){return n},n}function Z(){let n=(0,i.Z)(["\n  position: absolute;\n  bottom: 12%;\n  left: 4%;\n"]);return Z=function(){return n},n}function j(){let n=(0,i.Z)(["\n  font-size: 30px;\n  font-weight: 500;\n\n  margin-bottom: 10px;\n"]);return j=function(){return n},n}function k(){let n=(0,i.Z)(["\n  display: flex;\n  align-items: center;\n"]);return k=function(){return n},n}function y(){let n=(0,i.Z)(["\n  color: ",";\n  font-size: 14px;\n  span {\n    color: white;\n  }\n"]);return y=function(){return n},n}function C(){let n=(0,i.Z)(["\n  font-size: 14px;\n  margin-left: 14px;\n"]);return C=function(){return n},n}function P(){let n=(0,i.Z)(["\n  width: 70%;\n\n  font-size: ",";\n  font-weight: 300;\n  color: ",";\n  line-height: ",";\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  word-break: break-word;\n\n  margin: 10px 0;\n"]);return P=function(){return n},n}function I(){let n=(0,i.Z)(["\n  padding: 0 4%;\n  margin-bottom: 35px;\n  overflow: hidden;\n"]);return I=function(){return n},n}function z(){let n=(0,i.Z)(["\n  height: 20vh;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return z=function(){return n},n}let M=s.ZP.main.withConfig({componentId:"sc-a5d44890-0"})(b()),_=s.ZP.div.withConfig({componentId:"sc-a5d44890-1"})(w(),n=>n.bgphoto),E=s.ZP.div.withConfig({componentId:"sc-a5d44890-2"})(Z()),F=s.ZP.h2.withConfig({componentId:"sc-a5d44890-3"})(j()),R=s.ZP.div.withConfig({componentId:"sc-a5d44890-4"})(k()),Q=s.ZP.p.withConfig({componentId:"sc-a5d44890-5"})(y(),n=>n.theme.color.point),S=s.ZP.p.withConfig({componentId:"sc-a5d44890-6"})(C()),G=s.ZP.p.withConfig({componentId:"sc-a5d44890-7"})(P(),n=>n.isMobile?"12px":"16px",n=>n.theme.color.textSub,n=>n.isMobile?"20px":"24px"),N=s.ZP.div.withConfig({componentId:"sc-a5d44890-8"})(I()),W=s.ZP.div.withConfig({componentId:"sc-a5d44890-9"})(z());function A(){var n,t,e;let i=(0,h.d)(),s=(0,u.sJ)(x.F),{data:b,isLoading:w}=(0,l.useQuery)(["movies","nowPlaying"],()=>p.j_.getNowMovies()),{data:Z}=(0,l.useQuery)(["movies","popular"],()=>p.j_.getPopularMovies()),{data:j}=(0,l.useQuery)(["movies","topRated"],()=>p.j_.getTopRatedMovies()),{data:k}=(0,l.useQuery)(["movies","video"],()=>p.j_.getMovieVideos(594767)),y=(0,r.useMemo)(()=>{let n=null==b?void 0:b.results;return Z&&(null==n||n.push(...null==Z?void 0:Z.results)),j&&(null==n||n.push(...null==j?void 0:j.results)),n},[null==b?void 0:b.results,Z,j]),C=s&&(null==y?void 0:y.find(n=>n.id===+s));return(0,r.useEffect)(()=>{C?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[C]),(0,o.jsx)(M,{children:w?(0,o.jsx)(W,{children:"isLoading ..."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(_,{bgphoto:(0,f.g)((null==b?void 0:b.results[0].backdrop_path)||""),children:(0,o.jsxs)(E,{children:[(0,o.jsx)(F,{children:null==b?void 0:b.results[0].original_title}),(0,o.jsxs)(R,{children:[(0,o.jsxs)(Q,{children:[null==b?void 0:b.results[0].vote_average.toFixed(1)," ",(0,o.jsx)("span",{children:"Point"})]}),(0,o.jsx)(S,{children:null==b?void 0:b.results[0].release_date.slice(0,4)})]}),(0,o.jsx)(G,{isMobile:i,children:null==b?void 0:b.results[0].overview}),(0,o.jsx)(v.Ei,{text:"재생",icon:(0,o.jsx)(d.G,{icon:a.zc,color:"#000000"})})]})}),(0,o.jsx)(N,{children:(0,o.jsx)(m.Z,{title:"최신 영화",list:null!==(n=null==b?void 0:b.results.slice(1,19))&&void 0!==n?n:[],offset:i?3:6})}),(0,o.jsx)(N,{children:(0,o.jsx)(m.Z,{type:"ranking",title:"지금 뜨는! 영화",list:null!==(t=null==Z?void 0:Z.results.slice(0,18))&&void 0!==t?t:[],offset:i?3:6})}),(0,o.jsx)(N,{children:(0,o.jsx)(m.Z,{title:"평점 베스트",list:null!==(e=null==j?void 0:j.results.slice(0,18))&&void 0!==e?e:[],offset:i?3:6})}),(0,o.jsx)(c.M,{children:C?(0,o.jsx)(g.Z,{type:"movie",item:C,path:"/movieApp"}):null})]})})}}}]);